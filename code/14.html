<body><svg width="100%" height="100%"></svg></body>
<script src="d3.v4.min.js"></script>
<script src="d3-selection-multi.v1.min.js"></script>
<script>
function bind(data) {
  var update = d3.select("svg")
    .selectAll("rect").data(data);
  update.enter().append("rect");
  update.exit().remove();
}

function render(delay) {
  d3.select("svg").selectAll("rect")
    .attrs({
      x: 30,
      y: function(d,i) { return i * 32; },
      height: 30
    })
    .transition()
    .duration(1000)
    .delay(delay)
    .ease(d3.easeBounce)
    .attrs({
    x: 30,
    y: function(d,i) {
      return i * 32;
    },
    width: function(d,i) {
      return d * 20;
    },
    height: 30,
    fill: "red"
  });
}

bind([3,1,4,1,5,9]);
render(0);
bind([9,5,1,4,1,3]);
render(1000);
</script>

