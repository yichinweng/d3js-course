<body><svg width="100%" height="100%"></svg></body>
<script src="d3.v4.min.js"></script>
<script src="d3-selection-multi.v1.min.js"></script>
<script>
var update = d3.select("svg")
  .selectAll("rect").data([3,1,4,1,5,9]);
update.enter().append("rect");
update.exit().remove();

d3.select("svg").selectAll("rect").attrs({
  x: 30,
  y: function(d,i) {
    return i * 32;
  },
  width: function(d,i) {
    return d * 20;
  },
  height: 30,
  fill: "red"
});
</script>

